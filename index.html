<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Form Survey Perokok" />
    <link rel="stylesheet" href="./style.css" />
    <title>Form Survey Perokok</title>
  </head>
  <body>
    <header>
      <h1>Form Survey Perokok</h1>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Et delectus quo
        praesentium deserunt placeat tempore ad eum consequuntur. Itaque placeat
        distinctio aperiam vel maxime iusto voluptates facilis ab iste sunt!
      </p>
      <span class="start">* required</span>
    </header>
    <form class="form">
      <section class="section">
        <div>
          <label class="subtitle" for="nama"
            >Siapa nama anda? <span class="start">*</span></label
          >
        </div>
        <div>
          <input
            required
            placeholder="masukan nama"
            type="text"
            id="nama"
            name="nama"
          />
        </div>
      </section>
      <section class="section">
        <div>
          <label class="subtitle" for="umur"
            >Berapa umur anda? <span class="start">*</span></label
          >
        </div>
        <div>
          <input type="number" id="umur" name="umur" />
        </div>
      </section>
      <section class="section">
        <label class="subtitle"
          >Apa jenis kelamin anda? <span class="start">*</span></label
        >
        <div>
          <input
            type="radio"
            id="laki-laki"
            name="jenis-kelamin"
            value="laki-laki"
          />
          <label for="laki-laki">Laki-laki</label>

          <input
            type="radio"
            id="perempuan"
            name="jenis-kelamin"
            value="perempuan"
          />
          <label for="perempuan">Perempuan</label>
        </div>
      </section>
      <section class="section">
        <label class="subtitle"
          >Apakah anda perokok? <span class="start">*</span></label
        >
        <div>
          <input type="radio" id="ya" value="ya" name="anda-perokok" />
          <label for="ya">Ya</label>

          <input type="radio" value="tidak" id="tidak" name="anda-perokok" />
          <label for="tidak">Tidak</label>
        </div>
      </section>
      <section class="section">
        <label class="subtitle"
          >Jika Anda perokok, rokok apa yang anda pernah coba?</label
        >
        <div>
          <input type="checkbox" name="gudang-garam" id="gudang-garam" />
          <label for="gudang-garam">Gudang Garam Filter</label>
        </div>
        <div>
          <input type="checkbox" name="lucky-strike" id="lucky-strike" />
          <label for="lucky-strike">Lucky Strike</label>
        </div>
        <div>
          <input type="checkbox" name="marlboro" id="marlboro" />
          <label for="marlboro">Marlboro</label>
        </div>
        <div>
          <input type="checkbox" name="esse" id="esse" />
          <label for="esse">Esse</label>
        </div>
      </section>
      <div class="contaButton">
        <button type="submit">Submit</button>
      </div>
    </form>

    <script>
      const form = document.querySelector("form");
      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const data = {
          nama: document.getElementById("nama").value,
          umur: document.getElementById("umur").value,
          jenisKelamin: document.querySelector(
            'input[name="jenis-kelamin"]:checked'
          )?.value,
          perokok: document.querySelector('input[name="anda-perokok"]:checked')
            ?.value,
          gudangGaram: document.getElementById("gudang-garam").checked,
          luckyStrike: document.getElementById("lucky-strike").checked,
          marlboro: document.getElementById("marlboro").checked,
          esse: document.getElementById("esse").checked,
        };

        let histories = JSON.parse(localStorage.getItem("history")) || [];
        histories.push(data);

        window.localStorage.setItem("history", JSON.stringify(histories));

        window.location.href = "./submission.html";
      });
    </script>
  </body>
</html>
